<html>

<head>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="common/pixijs.js"></script>
    <title>The Eye</title>
    <link rel="stylesheet" type="text/css" href="common/eye.css">
</head>

<body>
    <script src="common/setupCanvas.js" type="text/javascript"></script>
    <script>
        sprites = {
            eye: {
                image: 'images/eye.png',
                number: 1,
            }
        }

        preLoader();

        function preGame() {
            eye = getSprite('eye');
            eye.anchor.x = 0.5;
            eye.anchor.y = 0.5;
            eye.rotation = 0.5;
            eye.x = window.innerWidth / 2;
            eye.y = window.innerHeight / 2;
            eye.width = 50;
            eye.height = 50;
        }

        var xv = 0;
        var yv = 0;

        function gameLoop(delta) {
            eye = getSprite('eye');
            eye.rotation = rotateToPoint(
                currentMousePos.x,
                currentMousePos.y,
                eye.x,
                eye.y
            );

            if (Math.abs(eye.x - currentMousePos.x) > 55) {
                if (eye.x < currentMousePos.x) {
                    xv += 1;
                } else {
                    xv -= 1
                }
            }
            if (Math.abs(eye.y - currentMousePos.y) > 55) {
                if (eye.y < currentMousePos.y) {
                    yv += 1;
                } else {
                    yv -= 1
                }
            }

            eye.x += xv;
            eye.y += yv;

            xv = xv * 0.9;
            yv = yv * 0.9;
        }
    </script>
</body>

</html>